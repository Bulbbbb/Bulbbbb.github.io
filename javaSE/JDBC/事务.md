---
aliases: 
tags: 
---
*JDBC 默认使用自动提交模式。*
1. *要想开启事务应该开启手动提交模式。*

```java
conn.setAutoCommit(false);
```

2. *事务结束时进行提交*

```java
conn.commit( );
```

3. *如果发生特殊情况，对事物进行回滚，一定要是提交之前回滚。*

```java
try{

}catch(SQLException se){
   conn.rollback();   // 回滚
}
```

5. *可以回滚到特定的保存点*
+ *`setSavepoint(String savepointName)` 定义新的保存点。它还返回一个 Savepoint 对象。*
+ *`releaseSavepoint(Savepoint savepointName)` 删除保存点。它需要一个 Savepoint 对象作为参数。*
+ *`rollback(String savepointName)` 方法将工作回滚到指定的保存点。*

```java
try{
	。。。
   Savepoint savepoint1 = conn.setSavepoint("Savepoint1");
   。。。

}catch(SQLException se){
   conn.rollback(savepoint1); // 回滚到保存点1
}
```