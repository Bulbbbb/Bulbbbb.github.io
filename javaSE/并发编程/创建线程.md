---
aliases: 
tags: 
---
_Java 中支持下面几种方式来创建多线程：_
+ _继承 Thread 类_
+ _实现 Runnable 接口_
+ _通过 Callable 接口和 Future 接口_
+ *线程池*

## 继承 Thread 类

1. _继承 Thread 类_
2. _重写 run() 方法_
3. _通过 start() 方法启动_

_下面是一个多线程的例子，在这个例子中，共有 3 个线程，main 函数为主线程。默认情况下只有主线程。_

```java
class test extends Thread {  
	@Override  
	public void run() {  
		for (int i = 0; i < 100; i++) {  
		System.out.println(i);  
		}  
	}  
	  
	public static void main(String[] args) {  
		System.out.println("++++++++++++++");  
		new test().start();  
		new test().start();  
	}  
}
```

## 使用 Runnable 接口

1. _实现 Runnable 接口_
2. _重写 run() 方法_
3. _通过调用 Thread 类的 start() 方法启动，将线程类作为 Thread 类初始化的参数_

```java
class test implements Runnable {  
	@Override  
	public void run() {  
		for (int i = 0; i < 100; i++) {  
		System.out.println(i + Thread.currentThread().getName());  
		}  
	}  
	  
	public static void main(String[] args) {  
		test test = new test();  
		new Thread(test, "a").start();  
		new Thread(test, "b").start();  
	}  
}
```

> [!note] _可以看到实现 Runnable 接口后还需要借助 Thread 类来启动。实际上 Thread 类也是对 Runnable 接口的实现。Runnable 接口中的 run() 方法就是线程的执行体。我们重写 Thread 类的 run() 方法本质上就是重写 Runnable 接口的 run() 方法。_

## 通过 Callable 接口和 Future 接口

_上面我们说了，Runnable 接口中的 run() 方法就是线程的执行体。线程的执行体必须通过重写 run() 方法来实现。_
_在 Java5 中，Java 又为我们提供了一个 Callable 接口，该接口中的 call() 方法也可以作为线程的执行体。并且 call() 方法比起 run() 方法更加强大：_
+ _call() 方法可以有返回值_
+ _call() 方法可以声明抛出异常_

> [!note] _Callable 接口有泛型限制，并且 call() 方法的返回值必须与接口的参数类型相同。_

_Thread 类可将 run() 方法包装成执行体，但是只能包装 Runnable 类型。_
_所以实现了 Callable 接口的对象并不能直接传入 Thread 类。_
_所以我们需要找一个中间类，也就是 FutureTask 类，该类实现了 Runnable 接口，可以作为 Thread 类的 target。_

```java
class test implements Callable<Integer> {  
  
	@Override  
	public Integer call() throws Exception {  
		for (int i = 0; i < 100; i++) {  
			System.out.println(i + Thread.currentThread().getName());  
		}  
		return 0;  
	}  
	  
	public static void main(String[] args) {  
		FutureTask<Integer> integerFutureTask = new FutureTask<>(new test());  
		FutureTask<Integer> integerFutureTask2 = new FutureTask<>(new test());  
		  
		new Thread(integerFutureTask, "c").start();  
		new Thread(integerFutureTask2, "a").start();  
	}  
}
```

_Runnable 接口和 Callable 接口都是函数式接口，可以通过 Lambda 表达式定义，也可以使用匿名内部类来简化。_

```java
class test {  
  
	public static void main(String[] args) {  
		for (int i = 0; i < 100; i++) {  
			new Thread(() -> {  
				System.out.println("+++++++++++++");  
			}).start();  
			new Thread(new FutureTask<Callable<Integer>>(() -> {  
				System.out.println("----------");  
				return 1;  
			}));  
		}  
	}  
}
```

## question

> [!question]- *Java 中哪几种方法可以创建线程？*